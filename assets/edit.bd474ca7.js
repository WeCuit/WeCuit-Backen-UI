var e=Object.defineProperty,l=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(l,t,o)=>t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[t]=o;import{_ as s}from"./richEditor.e13f18e7.js";import{d as u,u as d,y as m,b as p,A as c,aP as i,k as f,e as y,c as b,s as v,q as V,F as g,t as h,I as j,m as O}from"./vendor.15aec843.js";import{a as _,b as U}from"./index.734f4b75.js";import"./index.d603c67d.js";const E=u({components:{RichEditor:s},setup(){const e=d(),s=m({form:{id:null,title:"",content:"init text",postContent:"",type:"html"},types:[{value:"html"},{value:"link"}]});p((()=>{console.log("query",e.query);const{id:l}=e.query;console.log(l),_(l).then((e=>{const{data:l}=e;console.log(l),s.form=l}))}));return u=((e,l)=>{for(var t in l||(l={}))a.call(l,t)&&n(e,t,l[t]);if(o)for(var t of o(l))r.call(l,t)&&n(e,t,l[t]);return e})({},c(s)),l(u,t({updateArticle:()=>{const e={id:s.form.id,title:s.form.title,content:s.form.postContent,type:s.form.type};U(e).then((e=>{const{data:l}=e;console.log(l),!0===l.result?i.ElMessage({message:"更新成功",type:"success"}):i.ElMessage({message:"更新失败",type:"error"})}))},handleUpdateValue:e=>{console.log("update content"),s.form.postContent=e}}));var u}}),P=j("提交"),k=j("返回");E.render=function(e,l,t,o,a,r){const n=f("el-input"),s=f("el-form-item"),u=f("RichEditor"),d=f("el-option"),m=f("el-select"),p=f("el-button"),c=f("el-form"),i=f("el-card");return y(),b("div",null,[v(i,null,{default:V((()=>[v(c,{modelValue:e.form,"onUpdate:modelValue":l[2]||(l[2]=l=>e.form=l)},{default:V((()=>[v(s,{label:"标题"},{default:V((()=>[v(n,{modelValue:e.form.title,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.title=l)},null,8,["modelValue"])])),_:1}),v(s,{label:"内容"},{default:V((()=>[v(u,{"model-value":e.form.content,"onUpdate:modelValue":e.handleUpdateValue},null,8,["model-value","onUpdate:modelValue"])])),_:1}),v(m,{modelValue:e.form.type,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.type=l),placeholder:"文章类型"},{default:V((()=>[(y(!0),b(g,null,h(e.types,(e=>(y(),O(d,{key:e.value,value:e.value,label:e.value},null,8,["value","label"])))),128))])),_:1},8,["modelValue"]),v(s,null,{default:V((()=>[v(p,{type:"primary",onClick:e.updateArticle},{default:V((()=>[P])),_:1},8,["onClick"]),v(p,null,{default:V((()=>[k])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])};export{E as default};
