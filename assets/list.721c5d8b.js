import{d as e,aP as s,k as a,e as t,c as l,s as d,q as i,F as o,t as n,m as c,g as r,J as u}from"./vendor.3f7b2887.js";import{r as m}from"./index.8b43220d.js";const g=e({data:()=>({list:[]}),mounted(){console.log("mounted media/list.vue"),this.loadMediaList()},activated(){console.log("activated media/list.vue"),this.loadMediaList()},methods:{loadMediaList(){m.get("/media/list").then((e=>{console.log("media list",e),this.list=e.data.list}))},deleteMedia(e){(e=>m.delete("/media/delete",{params:{id:e}}))(e).then((e=>{const{data:a}=e;a.result?(s.ElMessage({message:"删除成功",type:"success"}),this.loadMediaList()):s.ElMessage({message:"删除失败(文件可能不存在)",type:"error"})}))}}}),h=r("h2",null,"文件列表",-1),p=["src"],f=u(" 123456  ");g.render=function(e,s,u,m,g,M){const v=a("el-button"),y=a("el-row"),b=a("el-card"),k=a("el-col");return t(),l("div",null,[h,d(y,null,{default:i((()=>[(t(!0),l(o,null,n(e.list,(s=>(t(),c(k,{key:s.id,span:8,class:"item"},{default:i((()=>[d(b,{"body-style":{padding:"0px"},shadow:"hover"},{default:i((()=>[r("img",{src:s.path,class:"image"},null,8,p),d(y,{justify:"center",align:"middle"},{default:i((()=>[f,d(v,{type:"danger",icon:"el-icon-delete",circle:"",onClick:a=>e.deleteMedia(s.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])};export{g as default};
