import{d as e,Q as s,m as a,g as t,e as l,f as d,H as i,F as o,n,E as c}from"./vendor.3edfc556.js";import{a as r}from"./index.2950bfb7.js";const u=e({data:()=>({list:[]}),mounted(){console.log("mounted media/list.vue"),this.loadMediaList()},activated(){console.log("activated media/list.vue"),this.loadMediaList()},methods:{loadMediaList(){r.get("/media/list").then((e=>{console.log("media list",e),this.list=e.data.list}))},deleteMedia(e){(e=>r.delete("/media/delete",{params:{id:e}}))(e).then((e=>{const{data:a}=e;a.result?(s.ElMessage({message:"删除成功",type:"success"}),this.loadMediaList()):s.ElMessage({message:"删除失败(文件可能不存在)",type:"error"})}))}}}),m=d("h2",null,"文件列表",-1),g=c(" 123456  ");u.render=function(e,s,c,r,u,f){const h=a("el-button"),p=a("el-row"),M=a("el-card"),v=a("el-col");return t(),l("div",null,[m,d(p,null,{default:i((()=>[(t(!0),l(o,null,n(e.list,(s=>(t(),l(v,{key:s.id,span:8,class:"item"},{default:i((()=>[d(M,{"body-style":{padding:"0px"},shadow:"hover"},{default:i((()=>[d("img",{src:s.path,class:"image"},null,8,["src"]),d(p,{justify:"center",align:"middle"},{default:i((()=>[g,d(h,{type:"danger",icon:"el-icon-delete",circle:"",onClick:a=>e.deleteMedia(s.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])};export{u as default};
