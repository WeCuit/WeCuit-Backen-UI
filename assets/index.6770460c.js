var e=Object.defineProperty,l=Object.defineProperties,o=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(l,o,t)=>o in l?e(l,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[o]=t;import{d as i,J as r,k as d,e as c,c as u,s as m,q as f,g as p,I as g,y as b,z as _,A as y,U as C,p as h,f as k}from"./vendor.aed6a4c3.js";import{a as V}from"./index.32e961e9.js";const v=i({props:{collegeInfo:{type:Object,required:!0}},emits:["success"],data(){return{form:r(this.$props,"collegeInfo")}},methods:{submitForm(){var e;console.log("提交修改"),(e=this.form,V.patch("/settings/college/edit",e)).then((e=>{console.log(e),e.data.result&&this.$emit("success")}))}}}),w=p("i",{class:"fa fa-plus"},null,-1),S=g(" 确认修改 ");v.render=function(e,l,o,t,a,s){const n=d("el-input"),i=d("el-form-item"),r=d("el-button"),p=d("el-row"),g=d("el-form");return c(),u("div",null,[m(g,{ref:"form",model:e.form},{default:f((()=>[m(i,{label:"学院名称"},{default:f((()=>[m(n,{modelValue:e.form.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.name=l)},null,8,["modelValue"])])),_:1}),m(i,{label:"学院标记"},{default:f((()=>[m(n,{modelValue:e.form.mark,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.mark=l)},null,8,["modelValue"])])),_:1}),m(p,{class:"btn-container"},{default:f((()=>[m(r,{size:"mini",type:"primary",onClick:l[2]||(l[2]=l=>e.submitForm())},{default:f((()=>[w,S])),_:1})])),_:1})])),_:1},8,["model"])])};const O=i({props:{},emits:["success"],data:()=>({form:{name:"",mark:""}}),methods:{submitForm(){var e;console.log("提交添加"),(e=this.form,V.post("/settings/college/add",e)).then((e=>{console.log(e),e.data.result&&this.$emit("success")}))}}}),j=p("i",{class:"fa fa-plus"},null,-1),E=g(" 确认添加 ");O.render=function(e,l,o,t,a,s){const n=d("el-input"),i=d("el-form-item"),r=d("el-button"),p=d("el-row"),g=d("el-form");return c(),u("div",null,[m(g,{ref:"form",model:e.form},{default:f((()=>[m(i,{label:"学院名称"},{default:f((()=>[m(n,{modelValue:e.form.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.name=l)},null,8,["modelValue"])])),_:1}),m(i,{label:"学院标记"},{default:f((()=>[m(n,{modelValue:e.form.mark,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.mark=l)},null,8,["modelValue"])])),_:1}),m(p,{class:"btn-container"},{default:f((()=>[m(r,{size:"mini",type:"primary",onClick:l[2]||(l[2]=l=>e.submitForm())},{default:f((()=>[j,E])),_:1})])),_:1})])),_:1},8,["model"])])};const z=i({components:{CollegeEdit:v,CollegeNew:O},setup(){const e=b({list:[],add_display:!1,edit_display:!1,postCollege:{}}),i=()=>{V.get("/settings/college/list").then((l=>{e.list=l.data.list}))};return _((()=>{console.log("effect"),i()})),r=((e,l)=>{for(var o in l||(l={}))a.call(l,o)&&n(e,o,l[o]);if(t)for(var o of t(l))s.call(l,o)&&n(e,o,l[o]);return e})({},y(e)),l(r,o({onCreate:()=>{e.add_display=!0},onCreateSuccess:()=>{console.log("onCreateSuccess"),e.add_display=!1,i()},onEditSuccess:()=>{console.log("onEditSuccess"),e.edit_display=!1,e.postCollege={},i()},onEdit:l=>{e.edit_display=!0,e.postCollege=l},onDelete:e=>{var l;(l=e.id,V.delete(`/settings/college/delete/${l}`)).then((e=>{e.data.result&&(i(),C.ElMessage({type:"success",message:"删除成功"}))}))},onRefresh:()=>{i()}}));var r}}),U=(e=>(h("data-v-55ffb065"),e=e(),k(),e))((()=>p("h2",null,"学院管理",-1))),I=g("新增"),P=g("刷新");z.render=function(e,l,o,t,a,s){const n=d("el-button"),i=d("el-col"),r=d("el-table-column"),p=d("el-tooltip"),g=d("el-table"),b=d("CollegeEdit"),_=d("el-dialog"),y=d("CollegeNew"),C=d("el-card");return c(),u("div",null,[m(C,{class:"card"},{default:f((()=>[U,m(i,null,{default:f((()=>[m(n,{type:"primary",icon:"el-icon-plus",size:"small",onClick:e.onCreate},{default:f((()=>[I])),_:1},8,["onClick"]),m(n,{type:"success",icon:"el-icon-refresh",size:"small",onClick:e.onRefresh},{default:f((()=>[P])),_:1},8,["onClick"])])),_:1}),m(g,{data:e.list,width:"100%"},{default:f((()=>[m(r,{prop:"name",label:"学院名称",width:"180"}),m(r,{prop:"mark",label:"学院标记"}),m(r,{label:"操作"},{default:f((l=>[m(p,{class:"item",effect:"dark",content:"修改",placement:"bottom"},{default:f((()=>[m(n,{circle:"",plain:"",type:"primary",icon:"el-icon-edit",size:"mini",onClick:o=>e.onEdit(l.row)},null,8,["onClick"])])),_:2},1024),m(p,{class:"item",effect:"dark",content:"删除",placement:"bottom"},{default:f((()=>[m(n,{circle:"",plain:"",type:"danger",icon:"el-icon-minus",size:"mini",onClick:o=>e.onDelete(l.row)},null,8,["onClick"])])),_:2},1024)])),_:1})])),_:1},8,["data"]),m(_,{modelValue:e.edit_display,"onUpdate:modelValue":l[0]||(l[0]=l=>e.edit_display=l),title:"编辑学院信息"},{default:f((()=>[m(b,{"college-info":e.postCollege,onSuccess:e.onEditSuccess},null,8,["college-info","onSuccess"])])),_:1},8,["modelValue"]),m(_,{modelValue:e.add_display,"onUpdate:modelValue":l[1]||(l[1]=l=>e.add_display=l),title:"添加学院信息"},{default:f((()=>[m(y,{onSuccess:e.onCreateSuccess},null,8,["onSuccess"])])),_:1},8,["modelValue"])])),_:1})])},z.__scopeId="data-v-55ffb065";export{z as default};
