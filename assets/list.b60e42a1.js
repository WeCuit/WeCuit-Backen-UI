var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{d as n,s as i,aO as c,x as d,aM as p,m as u,g as b,e as f,f as g,H as m}from"./vendor.10c7bc07.js";import{d as y,g as O}from"./index.87881ab7.js";import"./index.83aae321.js";const P=n({setup(){const e=i({list:[],currentPage:1,totalPages:1,pageLimit:10}),n=(t=1,a=10)=>{O().then((a=>{const{data:r}=a;e.list=r.rows,e.currentPage=t,e.totalPages=r.pages}))};return c((()=>{n()})),u=((e,t)=>{for(var a in t||(t={}))l.call(t,a)&&s(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&s(e,a,t[a]);return e})({},d(e)),t(u,a({deleteArticleById:t=>{y(t).then((t=>{const{data:a}=t;a.result&&(p.ElMessage({message:"删除成功",type:"success"}),n(e.currentPage,e.pageLimit))}))}}));var u}}),j=g("h2",null,"文章列表",-1);P.render=function(e,t,a,r,l,o){const s=u("el-table-column"),n=u("el-button"),i=u("router-link"),c=u("el-table"),d=u("el-card");return b(),f("div",null,[g(d,null,{default:m((()=>[j,g(c,{data:e.list},{default:m((()=>[g(s,{prop:"title",label:"标题"}),g(s,{prop:"created",label:"发布时间"}),g(s,{label:"操作"},{default:m((t=>[g(i,{to:"/article/edit?id="+t.row.id},{default:m((()=>[g(n,{type:"primary",icon:"el-icon-edit",circle:""})])),_:2},1032,["to"]),g(n,{type:"danger",icon:"el-icon-delete",circle:"",onClick:a=>e.deleteArticleById(t.row.id)},null,8,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})])};export{P as default};
