import{d as e,U as a,k as s,e as t,c as l,s as d,q as i,F as o,t as n,m as c,g as r,I as u}from"./vendor.aed6a4c3.js";import{a as m}from"./index.dde5e37f.js";const g=e({data:()=>({list:[]}),mounted(){console.log("mounted media/list.vue"),this.loadMediaList()},activated(){console.log("activated media/list.vue"),this.loadMediaList()},methods:{loadMediaList(){m.get("/media/list").then((e=>{console.log("media list",e),this.list=e.data.list}))},deleteMedia(e){(e=>m.delete("/media/delete",{params:{id:e}}))(e).then((e=>{const{data:s}=e;s.result?(a.ElMessage({message:"删除成功",type:"success"}),this.loadMediaList()):a.ElMessage({message:"删除失败(文件可能不存在)",type:"error"})}))}}}),h=r("h2",null,"文件列表",-1),p=["src"],f=u(" 123456  ");g.render=function(e,a,u,m,g,M){const v=s("el-button"),y=s("el-row"),k=s("el-card"),L=s("el-col");return t(),l("div",null,[h,d(y,null,{default:i((()=>[(t(!0),l(o,null,n(e.list,(a=>(t(),c(L,{key:a.id,span:8,class:"item"},{default:i((()=>[d(k,{"body-style":{padding:"0px"},shadow:"hover"},{default:i((()=>[r("img",{src:a.path,class:"image"},null,8,p),d(y,{justify:"center",align:"middle"},{default:i((()=>[f,d(v,{type:"danger",icon:"el-icon-delete",circle:"",onClick:s=>e.deleteMedia(a.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])};export{g as default};
