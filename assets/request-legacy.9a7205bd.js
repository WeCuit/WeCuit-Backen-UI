System.register(["./vendor-legacy.9c185565.js"],(function(e){"use strict";var t,s;return{setters:[function(e){t=e.G,s=e.aP}],execute:function(){e("r",(function(e){return new Promise((function(t,a){r({timeout:void 0===e.timeout?1e4:e.timeout,url:e.url,method:e.method||"POST",headers:{"content-type":e.contentType?e.contentType:e.json?"application/json; charset=UTF-8":"application/x-www-form-urlencoded; charset=UTF-8"},params:e.params||"",data:e.data||"",responseType:e.responseType||"json"}).then((function(e){if("2"==="".concat(e.status).charAt(0)){if("1"===e.data.code||"err_9999"===e.data.code)return s.ElMessage({type:"error",message:e.data.message}),void a(e.data);t(e.data)}else s.ElMessage({type:"error",message:e.data.message}),a(e.data)})).catch((function(e){s.ElMessage({type:"error",message:e.message}),a(e)}))}))}));var r=t.create({timeout:2e4});r.defaults.withCredentials=!0,r.defaults.headers["X-Requested-With"]="XMLHttpRequest",r.defaults.headers.post["Content-Type"]="application/json",r.interceptors.request.use((function(e){return sessionStorage.getItem("accessToken")&&(e.headers.Authorization="Bearer ".concat(sessionStorage.getItem("accessToken"))),e}),(function(e){return Promise.reject(e)})),r.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&e.response.data){var t=e.response.status,r=e.response.data.message;s.ElMessage.error("Code: ".concat(t,", Message: ").concat(r))}else s.ElMessage.error("".concat(e));return Promise.reject(e)}))}}}));
